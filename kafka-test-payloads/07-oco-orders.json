{
  "testScenario": "OCO (One-Cancels-Other) Order Tests",
  "description": "Test OCO orders where execution of one leg cancels the other",
  "payloads": [
    {
      "name": "Limit Buy Order - User33 buys 100 AAPL at $170.00",
      "topic": "orders.v1",
      "key": "ORDER_7001",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7001-20251009235200000",
        "timeStamp": "2025-01-10T15:00:00Z",
        "payload": {
          "orderId": "7001-20251009235516000",
          "userId": "user33",
          "symbol": "AAPL",
          "side": "BUY",
          "orderType": "LIMIT",
          "quantity": 100,
          "limitPrice": 170.0,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:00:00Z"
        }
      }
    },
    {
      "name": "Limit Sell Order - User34 sells 100 AAPL at $170.00",
      "topic": "orders.v1",
      "key": "ORDER_7002",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7002-20251009235200001",
        "timeStamp": "2025-01-10T15:00:05Z",
        "payload": {
          "orderId": "7002-20251009235516001",
          "userId": "user34",
          "symbol": "AAPL",
          "side": "SELL",
          "orderType": "LIMIT",
          "quantity": 100,
          "limitPrice": 170.0,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:00:05Z"
        }
      }
    },
    {
      "name": "OCO Order - User35: Take Profit at $172 OR Stop Loss at $168",
      "topic": "orders.v1",
      "key": "ORDER_7003",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7003-20251009235200002",
        "timeStamp": "2025-01-10T15:01:00Z",
        "payload": {
          "orderId": "7003-20251009235516002",
          "userId": "user35",
          "symbol": "AAPL",
          "side": "SELL",
          "orderType": "ONE_CANCELS_OTHER",
          "quantity": 100,
          "ocoGroupId": "OCO-GROUP-001",
          "primaryOrderType": "LIMIT",
          "primaryPrice": 172.0,
          "secondaryOrderType": "STOP_MARKET",
          "secondaryStopPrice": 168.0,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:01:00Z"
        }
      }
    },
    {
      "name": "Limit Sell Order - User36 sells 50 AAPL at $167.50 (Drop price)",
      "topic": "orders.v1",
      "key": "ORDER_7004",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7004-20251009235200003",
        "timeStamp": "2025-01-10T15:02:00Z",
        "payload": {
          "orderId": "7004-20251009235516003",
          "userId": "user36",
          "symbol": "AAPL",
          "side": "SELL",
          "orderType": "LIMIT",
          "quantity": 50,
          "limitPrice": 167.5,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:02:00Z"
        }
      }
    },
    {
      "name": "Limit Buy Order - User37 buys 50 AAPL at $167.50 (Trigger stop loss leg)",
      "topic": "orders.v1",
      "key": "ORDER_7005",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7005-20251009235200004",
        "timeStamp": "2025-01-10T15:02:05Z",
        "payload": {
          "orderId": "7005-20251009235516004",
          "userId": "user37",
          "symbol": "AAPL",
          "side": "BUY",
          "orderType": "LIMIT",
          "quantity": 150,
          "limitPrice": 167.5,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:02:05Z"
        }
      }
    },
    {
      "name": "OCO Order - User38: Limit Buy at $165 OR Stop Buy at $175",
      "topic": "orders.v1",
      "key": "ORDER_7006",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7006-20251009235200005",
        "timeStamp": "2025-01-10T15:03:00Z",
        "payload": {
          "orderId": "7006-20251009235516005",
          "userId": "user38",
          "symbol": "AAPL",
          "side": "BUY",
          "orderType": "ONE_CANCELS_OTHER",
          "quantity": 100,
          "ocoGroupId": "OCO-GROUP-002",
          "primaryOrderType": "LIMIT",
          "primaryPrice": 165.0,
          "secondaryOrderType": "STOP_MARKET",
          "secondaryStopPrice": 175.0,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:03:00Z"
        }
      }
    },
    {
      "name": "Limit Sell Order - User39 sells 100 AAPL at $165.00 (Execute primary leg)",
      "topic": "orders.v1",
      "key": "ORDER_7007",
      "value": {
        "eventType": "ORDER_PLACED",
        "correlationId": "evt-7007-20251009235200006",
        "timeStamp": "2025-01-10T15:03:05Z",
        "payload": {
          "orderId": "7007-20251009235516006",
          "userId": "user39",
          "symbol": "AAPL",
          "side": "SELL",
          "orderType": "LIMIT",
          "quantity": 100,
          "limitPrice": 165.0,
          "timeInForce": "GOOD_TILL_CANCELLED",
          "timestamp": "2025-01-10T15:03:05Z"
        }
      }
    }
  ],
  "expectedResults": {
    "OCO_GROUP_001_secondary": "Stop loss leg triggers at $167.50, take profit leg cancelled",
    "OCO_GROUP_002_primary": "Primary limit order executes at $165.00, secondary stop cancelled"
  }
}